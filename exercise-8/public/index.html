<!DOCTYPE html>
<html>
<head>
    <title>Fake Store + Calculator</title>
</head>
<body>
<h1>Calculator</h1>
<input id="num1" placeholder="Number 1">
<input id="num2" placeholder="Number 2">
<button onclick="calculate('add')">Add</button>
<button onclick="calculate('subtract')">Subtract</button>
<button onclick="calculate('multiply')">Multiply</button>
<button onclick="calculate('divide')">Divide</button>
<p id="result"></p>

<h1>Fake Store Products</h1>
<button onclick="fetchProducts()">Load Products</button>
<ul id="products"></ul>

<script>
async function calculate(op) {
    const num1 = document.getElementById("num1").value;
    const num2 = document.getElementById("num2").value;
    const res = await fetch(`/calculator/${op}?num1=${num1}&num2=${num2}`);
    const data = await res.json();
    document.getElementById("result").innerText = JSON.stringify(data);
}

async function fetchProducts() {
    const res = await fetch("/calculator/products");
    const products = await res.json();
    const ul = document.getElementById("products");
    ul.innerHTML = "";
    products.forEach(p => {
        const li = document.createElement("li");
        li.innerText = `${p.title} - $${p.price}`;
        ul.appendChild(li);
    });
}
</script>
</body>
</html>
